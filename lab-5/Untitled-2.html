<!DOCTYPE html>
<html>
<head>
	<title>Lab - Multimedia Programming 2563 ITKMITL</title>
	<link rel="stylesheet" type="text/css" href="../src/reset.css">
	<link rel="stylesheet" type="text/css" href="lab.css">
	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
	<div id="canvas">
		<section id="canvas_header">
			<div>
				 {{score}} คะแนน
				 {{time}} 
			</div>
		</section>
		<section id="canvas_main" 
		:data-play="play">
			<main>
				<div class="box _path" 
				v-for="i in 14" 
				:data-pst="i"></div>
				<div class="box _toggle" data-pst="10" data-isrightarrow="1"></div>

				<div class="box_fruit" v-for="f in fruits" 
				:data-pst="f.pst"></div> <!-- ?? -->

				<div class="box _origin"></div>
				<div class="box _12" data-pst="12"></div>
				<div class="box _16" data-pst="16"></div>
				
			</main>
		</section>
		<section id="canvas_footer">
			<div v-if="play" class="btn" id="toggle" @click="change()">
				Toggle
			</div>
			<div v-if="!play" class="btn" id="endgame">
				End Game
			</div>
		</section>
	</div>

	<script>
		function rand(start,stop){
			let shift = (stop-start)+1
			return Math.floor(Math.random()*100%shift)+start
		}
		
		let nextFruitId = 3 // == id
		let isRightArrow = 1
		let speed = 500
		let app = new Vue({
			el:'#canvas',
			data:{
				isRightArrow : isRightArrow,
				speed : speed,
				play:true,
				turn:0,
				time:20,
				score:0,
				fruits:[ //ให้เป็นอาเรย์เพื่อเก็บค่า pst ช position begin
					{id:1, type:'13',pst:5,run:true,step:1}, // run ยังขยับได้อยู่หรือเปล่า
					{id:2, type:'11',pst:2,run:true,step:1}, // step เอามาบวกทีละ 1,3
					
				]
			},

			method:{},
			computed:{},
			watch:{
				turn: function(x){
					let count = this.fruits.length
					for (let f in this.fruits){

						let run = this.fruits[f].run
						if (run){
							this.fruits[f].pst = this.fruits[f].pst+1
							}
						console.log()
						}




				}
			}
		})

		let playing = setInterval(function(){
				app.turn++
		},speed)



		let counter = setInterval(()=>{
			if (app.time>0) {
				app.time--
			}else{
				clearInterval(counter)
			}
		},1000);

	</script>
</body>
</html>